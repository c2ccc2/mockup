import L from"./info-DE6mW2re.js";import R from"./prototype-BMNcdFyr.js";import S from"./index-Dk9XPNqg.js";import{m as $}from"./projectuser-DeXrqgRN.js";import{_ as z,C as E,u as F,a as G,r as m,z as j,w as H,D as J,G as K,f as u,c as I,h as r,i as l,n as g,o as i,H as M,I as O,j as h,p as f,J as T}from"./index-BH0gmZsQ.js";import"./projectbase-Dsxtc8wl.js";import"./knowledge-BcO9Kfbi.js";import"./core-DTYTqmno.js";const U={class:"main"},A={class:"nav-project-container"},W={class:"nav"},X=E({name:"projectDetail"}),Y=Object.assign(X,{setup(Z){const a=F(),p=G(),n=m(""),y=j(()=>{if(!s.value||s.value.length===0)return"";const e=s.value.find(t=>t.projectId===n.value);return e?e.projectName:""});n.value=Number(a.query.projectId)||0,H(()=>a.query,e=>{if(console.log("项目ID变化:",e),e.projectId==="0"||e.projectId===0||!e.projectId===""){console.log("项目ID是0 ，开始跳转:"),p.push({name:"Space"});return}if(!e.projectId){console.log("项目ID不存在，开始跳转:"),p.push({name:"Space"});return}if(console.log("虽然上面返回了，但是下面还有可能被执行:"),e.projectId&&(n.value=Number(e.projectId)),e.nav!==void 0){const t=Number(e.nav);[0,1,2].includes(t)&&(c.value=t)}},{immediate:!0});const N=m(0),b=J({queryParams:{pageModel:{PageIndex:1,PageSize:10}}}),{queryParams:C}=K(b),s=m([]),q={0:L,1:R,2:S},c=m(Number(a.query.nav)||0),P=j(()=>q[c.value]),d=e=>{p.push({path:a.path,query:{...a.query,nav:e}})};function k(){p.push({path:a.path,query:{...a.query,projectId:n.value}})}function x(){$(C.value).then(e=>{s.value=e.rows,N.value=e.total})}return x(),(e,t)=>{const V=u("el-option"),D=u("el-select"),v=u("el-button"),_=u("el-form-item"),B=u("el-form");return i(),I("div",U,[r(B,null,{default:l(()=>[r(_,null,{default:l(()=>[g("div",A,[r(D,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),placeholder:"请选择项目",filterable:"",onChange:k,class:"nav-project"},{default:l(()=>[(i(!0),I(M,null,O(s.value,o=>(i(),h(V,{key:o.projectId,label:o.projectName,value:o.projectId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),g("div",W,[r(v,{type:c.value===0?"primary":"",onClick:t[1]||(t[1]=o=>d(0))},{default:l(()=>[f("概要")]),_:1},8,["type"]),r(v,{type:c.value===1?"primary":"",onClick:t[2]||(t[2]=o=>d(1))},{default:l(()=>[f("原型")]),_:1},8,["type"]),r(v,{type:c.value===2?"primary":"",onClick:t[3]||(t[3]=o=>d(2))},{default:l(()=>[f("知识库")]),_:1},8,["type"])])])]),_:1}),r(_,null,{default:l(()=>[(i(),h(T(P.value),{"project-id":n.value,"project-name":y.value},null,8,["project-id","project-name"]))]),_:1})]),_:1})])}}}),le=z(Y,[["__scopeId","data-v-a6e1b100"]]);export{le as default};
