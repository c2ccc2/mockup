import{_ as q,J as h,r as v,a2 as D,f as n,c as g,o as i,h as o,j as L,i as a,m as e,l as Q,H as S,I as J,k as K,n as M,p as k,X as j}from"./index-CR6ovanu.js";import T from"./mockup-C_aXnPrg.js";import{l as U}from"./project-DyOYFxcD.js";import"./mockup-_KlAqIPi.js";const A={class:"app-container"},E={key:0,class:"pagination-container"},F={class:"mockup-wrapper"},H={__name:"index",setup(X){const u=h({pageNum:1,pageSize:10}),p=v([]),d=v(0),N=h({form:{},queryParams:{projectId:"",mockupName:void 0}}),r=v(null),{queryParams:t}=D(N);function m(){U(u).then(l=>{t.pageNum===1?p.value=l.rows:p.value=[...p.value,...l.rows],d.value=l.total}).finally(()=>{})}m();function C(l){l&&p.value.length===0&&m()}function V(l){u.pageNum=l,m()}function f(){console.log("查询:",t.value),j(()=>{r.value&&typeof r.value.loadData=="function"?r.value.loadData():console.warn("子组件 loadData 方法未定义或不可访问")})}function b(){t.value.projectId="",t.value.mockupName=void 0,f()}function x(){j(()=>{r.value&&typeof r.value.addPrototype=="function"?r.value.addPrototype():console.warn("子组件 addPrototype 方法未定义或不可访问")})}return(l,s)=>{const w=n("el-option"),I=n("el-pagination"),P=n("el-select"),_=n("el-form-item"),R=n("el-input"),y=n("el-button"),z=n("el-form"),B=n("el-col");return i(),g("div",A,[o(B,{span:20,xs:24},{default:a(()=>[o(z,{model:e(t),ref:"queryRef",inline:!0},{default:a(()=>[o(_,{label:"所属项目",prop:"projectId"},{default:a(()=>[o(P,{modelValue:e(t).projectId,"onUpdate:modelValue":s[0]||(s[0]=c=>e(t).projectId=c),placeholder:"请选择项目",filterable:"","fit-input-width":"",class:"nav-project",onVisibleChange:C,"reserve-keyword":""},{default:a(()=>[(i(!0),g(S,null,J(e(p),c=>(i(),K(w,{key:c.projectId,label:c.projectName,value:c.projectId},null,8,["label","value"]))),128)),e(d)>e(p).length?(i(),g("div",E,[o(I,{small:"",layout:"prev, pager, next",total:e(d),"page-size":e(u).pageSize,"current-page":e(u).pageNum,onCurrentChange:V},null,8,["total","page-size","current-page"])])):Q("",!0)]),_:1},8,["modelValue"])]),_:1}),o(_,{label:"名称",prop:"mockupName"},{default:a(()=>[o(R,{modelValue:e(t).mockupName,"onUpdate:modelValue":s[1]||(s[1]=c=>e(t).mockupName=c),placeholder:"请输入原型名称",clearable:"",style:{width:"240px"},onKeyup:M(f,["enter"])},null,8,["modelValue"])]),_:1}),o(_,null,{default:a(()=>[o(y,{type:"primary",icon:"Search",onClick:f},{default:a(()=>[k("搜索")]),_:1}),o(y,{icon:"Refresh",onClick:b},{default:a(()=>[k("重置")]),_:1}),o(y,{type:"primary",icon:"Plus",onClick:x},{default:a(()=>[k("新增原型")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),L("div",F,[o(T,{ref_key:"mockupComposeRef",ref:r,"project-id":e(t).projectId,"mockup-name":e(t).mockupName},null,8,["project-id","mockup-name"])])])}}},Z=q(H,[["__scopeId","data-v-2255db9d"]]);export{Z as default};
