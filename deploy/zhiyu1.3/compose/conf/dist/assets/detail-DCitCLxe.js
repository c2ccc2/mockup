import{_ as P,u as $,r as a,G as L,f as u,c as k,h as r,i as n,j as y,o as s,H as M,I as U,k as p,p as _,l as d,m as q}from"./index-CR6ovanu.js";import{a as z}from"./project-DyOYFxcD.js";import E from"./setting-p9ZmSZGB.js";import F from"./info-Df3yhbCo.js";import G from"./member-CjWy3O8w.js";import"./projectUser-CylPsKmU.js";import"./addMember-DDFozY0Y.js";import"./user-VS3yfzIo.js";const H={class:"main"},O={class:"nav"},R={__name:"detail",setup(S){const f=$(),o=a(""),v=a([]),c=a(0),g=a(),w=a(),h=a(),j=a(),C=async()=>{try{const t=await z({pageSize:1e3});if(t.code===200){v.value=t.rows||t.data||[];const e=f.query.projectId||f.params.projectId;e&&(o.value=e,c.value=0)}}catch(t){console.error("获取项目列表失败:",t)}},V=t=>{o.value=t},i=t=>{c.value=t};return L(()=>{C()}),(t,e)=>{const x=u("el-option"),N=u("el-select"),m=u("el-button"),b=u("el-row"),I=u("el-form-item"),B=u("el-form");return s(),k("div",H,[r(B,{class:"form-inline"},{default:n(()=>[r(I,null,{default:n(()=>[y("div",null,[r(N,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),placeholder:"选择项目",onChange:V,"value-key":"item.projectId",filterable:"",class:"nav-project select-with-margin","fit-input-width":"",style:{width:"250px"}},{default:n(()=>[(s(!0),k(M,null,U(v.value,l=>(s(),p(x,{key:l.projectId,label:l.projectName,value:l.projectId+""},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),y("div",O,[r(b,null,{default:n(()=>[r(m,{onClick:e[1]||(e[1]=l=>i(0)),plain:""},{default:n(()=>[_("项目概要")]),_:1}),r(m,{onClick:e[2]||(e[2]=l=>i(2)),plain:""},{default:n(()=>[_("项目成员")]),_:1}),r(m,{onClick:e[3]||(e[3]=l=>i(3)),plain:""},{default:n(()=>[_("状态管理")]),_:1})]),_:1})])]),_:1}),r(I,null,{default:n(()=>[c.value==0?(s(),p(F,{key:0,ref_key:"info",ref:g,projectId:o.value},null,8,["projectId"])):d("",!0),c.value==1?(s(),p(q(j),{key:1,ref_key:"hour",ref:j,projectId:o.value},null,8,["projectId"])):d("",!0),c.value==2?(s(),p(G,{key:2,ref_key:"user",ref:h,projectId:o.value},null,8,["projectId"])):d("",!0),c.value==3?(s(),p(E,{key:3,ref_key:"manager",ref:w,projectId:o.value},null,8,["projectId"])):d("",!0)]),_:1})]),_:1})])}}},Y=P(R,[["__scopeId","data-v-369ca66c"]]);export{Y as default};
