import x from"./info-D5IIo-5G.js";import C from"./prototype-BDQcYVnM.js";import P from"./index-CWNowlS2.js";import S from"./index-C9PgPes5.js";import V from"./index-Bsigc1yw.js";import{l as B}from"./project-DyOYFxcD.js";import{_ as T,F as D,r as c,u as J,a as K,w as b,B as L,J as R,f,c as z,h as o,i as r,k as s,l as d,o as m}from"./index-CR6ovanu.js";import"./mockup-_KlAqIPi.js";import"./knowledge-B9NXYXlN.js";import"./core-B-CtZn_l.js";import"./tasks-mvyL4cZG.js";import"./StartTaskDialog-DQv5ARtA.js";import"./projectUser-CylPsKmU.js";import"./CreateTaskDialog-BiJjOoei.js";import"./ItemDetailDialog-FOfzjPLO.js";const E={class:"main"},F=D({name:"projectDetail"}),M=Object.assign(F,{setup(O){c(!1);const n=J(),_=K(),t=c(""),v=c(n.query.nav?n.query.nav.toString():"0"),l=c(["0"]);t.value=Number(n.query.projectId)||0,b(v,e=>{l.value.includes(e)||l.value.push(e)},{immediate:!0});const p=L(()=>{if(!u.value||u.value.length===0)return"";const e=u.value.find(a=>a.projectId===t.value);return e?e.projectName:""});b(()=>n.query,e=>{if(e.projectId==="0"||e.projectId===0||!e.projectId===""){_.push({name:"Space"});return}if(!e.projectId){_.push({name:"Space"});return}if(e.projectId&&(t.value=Number(e.projectId)),e.nav!==void 0){const a=Number(e.nav);[0,1,2,3,4].includes(a)&&(v.value=a.toString())}},{immediate:!0});const g=c(0),j=R({pageSize:10,pageNum:1}),u=c([]);function h(e,a){_.push({path:n.path,query:{...n.query,nav:e.index,_t:Date.now()}})}function k(){B(j).then(e=>{j.pageNum===1?u.value=e.rows:u.value=[...u.value,...e.rows],g.value=e.total})}return k(),(e,a)=>{const i=f("el-tab-pane"),I=f("el-tabs"),N=f("el-form-item"),y=f("el-form");return m(),z("div",E,[o(y,null,{default:r(()=>[o(N,{style:{"margin-top":"0","margin-bottom":"0",padding:"0"}},{default:r(()=>[o(I,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=q=>v.value=q),type:"card",class:"main-tabs",onTabClick:h},{default:r(()=>[o(i,{label:"概要",name:"0"},{default:r(()=>[l.value.includes("0")?(m(),s(x,{key:0,"project-id":t.value,"project-name":p.value},null,8,["project-id","project-name"])):d("",!0)]),_:1}),o(i,{label:"任务",name:"1"},{default:r(()=>[l.value.includes("1")?(m(),s(S,{key:0,"project-id":t.value,"project-name":p.value},null,8,["project-id","project-name"])):d("",!0)]),_:1}),o(i,{label:"看板",name:"2"},{default:r(()=>[l.value.includes("2")?(m(),s(V,{key:0,"project-id":t.value,"project-name":p.value},null,8,["project-id","project-name"])):d("",!0)]),_:1}),o(i,{label:"原型",name:"3"},{default:r(()=>[l.value.includes("3")?(m(),s(C,{key:0,"project-id":t.value,"project-name":p.value},null,8,["project-id","project-name"])):d("",!0)]),_:1}),o(i,{label:"知识库",name:"4"},{default:r(()=>[l.value.includes("4")?(m(),s(P,{key:0,"project-id":t.value,"project-name":p.value},null,8,["project-id","project-name"])):d("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])}}}),re=T(M,[["__scopeId","data-v-645b072c"]]);export{re as default};
