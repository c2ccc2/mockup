import D from"./info-BacRhRNE.js";import B from"./prototype-kXyfRQ_e.js";import L from"./index-D1UB3RZw.js";import{m as R}from"./projectuser-BM5b5Y66.js";import{_ as S,C as $,u as z,a as E,r as p,w as F,D as G,G as H,z as J,f as c,c as j,h as n,i as l,n as I,o as i,H as K,I as M,j as y,p as v,J as O}from"./index-DzSnaHIP.js";import"./projectbase-Cb_HiLQ3.js";import"./space-CRp7hExf.js";import"./knowledge-Z7qSbjya.js";import"./core-DmLjVDr3.js";const T={class:"main"},U={class:"nav-project-container"},A={class:"nav"},W=$({name:"projectDetail"}),X=Object.assign(W,{setup(Y){const a=z(),u=E(),r=p("");r.value=Number(a.query.projectId)||0,F(()=>a.query,e=>{if(console.log("项目ID变化:",e),e.projectId==="0"||e.projectId===0||!e.projectId===""){console.log("项目ID是0 ，开始跳转:"),u.push({name:"Space"});return}if(!e.projectId){console.log("项目ID不存在，开始跳转:"),u.push({name:"Space"});return}if(console.log("虽然上面返回了，但是下面还有可能被执行:"),e.projectId&&(r.value=Number(e.projectId)),e.nav!==void 0){const t=Number(e.nav);[0,1,2].includes(t)&&(s.value=t)}},{immediate:!0});const g=p(0),h=G({queryParams:{pageModel:{PageIndex:1,PageSize:10}}}),{queryParams:b}=H(h),_=p([]),C={0:D,1:B,2:L},s=p(Number(a.query.nav)||0),N=J(()=>C[s.value]),m=e=>{u.push({path:a.path,query:{...a.query,nav:e}})};function q(){u.push({path:a.path,query:{...a.query,projectId:r.value}})}function P(){R(b.value).then(e=>{_.value=e.rows,g.value=e.total})}return P(),(e,t)=>{const k=c("el-option"),x=c("el-select"),d=c("el-button"),f=c("el-form-item"),V=c("el-form");return i(),j("div",T,[n(V,null,{default:l(()=>[n(f,null,{default:l(()=>[I("div",U,[n(x,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),placeholder:"请选择项目",filterable:"",onChange:q,class:"nav-project"},{default:l(()=>[(i(!0),j(K,null,M(_.value,o=>(i(),y(k,{key:o.projectId,label:o.projectName,value:o.projectId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),I("div",A,[n(d,{type:s.value===0?"primary":"",onClick:t[1]||(t[1]=o=>m(0))},{default:l(()=>[v("概要")]),_:1},8,["type"]),n(d,{type:s.value===1?"primary":"",onClick:t[2]||(t[2]=o=>m(1))},{default:l(()=>[v("原型")]),_:1},8,["type"]),n(d,{type:s.value===2?"primary":"",onClick:t[3]||(t[3]=o=>m(2))},{default:l(()=>[v("知识库")]),_:1},8,["type"])])])]),_:1}),n(f,null,{default:l(()=>[(i(),y(O(N.value),{"project-id":r.value},null,8,["project-id"]))]),_:1})]),_:1})])}}}),re=S(X,[["__scopeId","data-v-0b121292"]]);export{re as default};
