/*! 
 Build based on gin-vue-admin 
 Time : 1691228829000 */
import{a as e,o as l,c as a,b as o,d as u,w as s,h as n,J as t,K as d,A as p,cy as r,cX as i,e as m,g as c,j as V,$ as b,k as y,E as f}from"./index-705282a4.js";import{a as k,E as h}from"./form-item-26e276c5.js";/* empty css               *//* empty css              */import"./tag-03de541d.js";import{E as g,a as v}from"./select-f422150a.js";import"./scrollbar-b8aea7aa.js";/* empty css               */import{E as U}from"./checkbox-59197a78.js";import{b as _}from"./stringFun-647a78e9.js";import{k as j}from"./autoCode-b5dce136.js";import{_ as R}from"./_plugin-vue_export-helper-1b428a4d.js";import"./_baseClone-39b1660f.js";import"./_Uint8Array-24a3c252.js";import"./_initCloneObject-acf8bf06.js";import"./index-586999c8.js";import"./index-c7c2266c.js";import"./strings-5cc13f5a.js";import"./isEqual-221d581a.js";const q={class:"gva-table-box"},C=R({__name:"autoPlug",setup(R){const C=e({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),G=()=>{C.plugName=_(C.plugName)},x=async()=>{if(!C.plugName||!C.routerGroup)return void V.error("插件名称和插件路由组为必填项");if(C.hasGlobal){if(C.global.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("全局属性的key和type为必填项")}if(C.hasRequest){if(C.request.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("请求属性的key和type为必填项")}if(C.hasResponse){if(C.response.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("响应属性的key和type为必填项")}0===(await j(C)).code&&b("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造")},w=e=>{e.push({key:"",value:""})},N=(e,l)=>{1!==e.length?e.splice(l,1):V.warning("至少有一个全局属性")};return(e,V)=>{const b=y,_=k,j=U,R=g,E=v,A=f,X=h;return l(),a("div",null,[o("div",q,[u(X,{"label-width":"140px",class:"plug-form"},{default:s((()=>[u(_,{label:"插件名"},{default:s((()=>[u(b,{modelValue:C.plugName,"onUpdate:modelValue":V[0]||(V[0]=e=>C.plugName=e),placeholder:"必填（英文大写字母开头）",onBlur:G},null,8,["modelValue"])])),_:1}),u(_,{label:"路由组"},{default:s((()=>[u(b,{modelValue:C.routerGroup,"onUpdate:modelValue":V[1]||(V[1]=e=>C.routerGroup=e),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),u(_,{label:"使用全局属性"},{default:s((()=>[u(j,{modelValue:C.hasGlobal,"onUpdate:modelValue":V[2]||(V[2]=e=>C.hasGlobal=e)},null,8,["modelValue"])])),_:1}),C.hasGlobal?(l(),n(_,{key:0,label:"全局属性"},{default:s((()=>[(l(!0),a(t,null,d(C.global,((e,n)=>(l(),a("div",{key:n,class:"plug-row"},[o("span",null,[u(b,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(E,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:s((()=>[u(R,{label:"string",value:"string"}),u(R,{label:"int",value:"int"}),u(R,{label:"float32",value:"float32"}),u(R,{label:"float64",value:"float64"}),u(R,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(b,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(A,{icon:p(r),circle:"",onClick:V[3]||(V[3]=e=>w(C.global))},null,8,["icon"])]),o("span",null,[u(A,{icon:p(i),circle:"",onClick:e=>N(C.global,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):m("",!0),u(_,{label:"使用Request"},{default:s((()=>[u(j,{modelValue:C.hasRequest,"onUpdate:modelValue":V[4]||(V[4]=e=>C.hasRequest=e)},null,8,["modelValue"])])),_:1}),C.hasRequest?(l(),n(_,{key:1,label:"Request"},{default:s((()=>[(l(!0),a(t,null,d(C.request,((e,n)=>(l(),a("div",{key:n,class:"plug-row"},[o("span",null,[u(b,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(E,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:s((()=>[u(R,{label:"string",value:"string"}),u(R,{label:"int",value:"int"}),u(R,{label:"float32",value:"float32"}),u(R,{label:"float64",value:"float64"}),u(R,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(b,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(A,{icon:p(r),circle:"",onClick:V[5]||(V[5]=e=>w(C.request))},null,8,["icon"])]),o("span",null,[u(A,{icon:p(i),circle:"",onClick:e=>N(C.request,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):m("",!0),u(_,{label:"使用Response"},{default:s((()=>[u(j,{modelValue:C.hasResponse,"onUpdate:modelValue":V[6]||(V[6]=e=>C.hasResponse=e)},null,8,["modelValue"])])),_:1}),C.hasResponse?(l(),n(_,{key:2,label:"Response"},{default:s((()=>[(l(!0),a(t,null,d(C.response,((e,n)=>(l(),a("div",{key:n,class:"plug-row"},[o("span",null,[u(b,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(E,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:s((()=>[u(R,{label:"string",value:"string"}),u(R,{label:"int",value:"int"}),u(R,{label:"float32",value:"float32"}),u(R,{label:"float64",value:"float64"}),u(R,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(b,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(A,{icon:p(r),circle:"",onClick:V[7]||(V[7]=e=>w(C.response))},null,8,["icon"])]),o("span",null,[u(A,{icon:p(i),circle:"",onClick:e=>N(C.response,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):m("",!0),u(_,null,{default:s((()=>[u(A,{type:"primary",onClick:x},{default:s((()=>[c("创建")])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-a6df940b"]]);export{C as default};
