/*! 
 Build based on gin-vue-admin 
 Time : 1691228829000 */
import{s as e,u as a,r as l,a as s,o as t,c as d,b as o,n as p,d as i,w as r,e as m,f as u,E as n,g as c,h as b,i as y,j as v,k as h}from"./index-705282a4.js";import{E as g,a as _}from"./form-item-26e276c5.js";/* empty css              */import"./tag-03de541d.js";import{E as q,a as f}from"./select-f422150a.js";import"./scrollbar-b8aea7aa.js";/* empty css               *//* empty css               */import{_ as j}from"./_plugin-vue_export-helper-1b428a4d.js";import"./_baseClone-39b1660f.js";import"./_Uint8Array-24a3c252.js";import"./_initCloneObject-acf8bf06.js";import"./index-586999c8.js";import"./index-c7c2266c.js";import"./strings-5cc13f5a.js";import"./isEqual-221d581a.js";const V={class:"init_page"},k={class:"init_page_panel"},N=u('<div class="hello_title" data-v-d0013ae2>GIN-VUE-ADMIN</div><p class="in-two a-fadeinT" data-v-d0013ae2>初始化须知</p><p class="init_p" data-v-d0013ae2>1.您需有用一定的VUE和GOLANG基础</p><p class="init_p" data-v-d0013ae2>2.请您确认是否已经阅读过官方文档</p><p class="init_p" data-v-d0013ae2>3.请您确认是否了解后续的配置流程</p><p class="init_p" data-v-d0013ae2>4.如果您使用mysql数据库，请确认数据库引擎为<span style="color:red;" data-v-d0013ae2>innoDB</span></p><p class="init_p" data-v-d0013ae2>注：开发组不为文档中书写过的内容提供无偿服务</p>',7),w={class:"init_btn"},T={style:{"text-align":"right"}},U={name:"Init"},P=j(Object.assign(U,{setup(u){const j=a(),U=l(0),P=()=>{U.value=U.value+1},x=()=>{window.open("https://www.gin-vue-admin.com/guide/start-quickly/env.html")},O=l(!1),C=s({dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""}),E=e=>{switch(e){case"mysql":default:Object.assign(C,{dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""});break;case"pgsql":Object.assign(C,{dbType:"pgsql",host:"127.0.0.1",port:"5432",userName:"postgres",password:"",dbName:"gva",dbPath:""});break;case"oracle":Object.assign(C,{dbType:"oracle",host:"127.0.0.1",port:"1521",userName:"oracle",password:"",dbName:"gva",dbPath:""});break;case"mssql":Object.assign(C,{dbType:"mssql",host:"127.0.0.1",port:"1433",userName:"mssql",password:"",dbName:"gva",dbPath:""});break;case"sqlite":Object.assign(C,{dbType:"sqlite",host:"",port:"",userName:"",password:"",dbName:"gva",dbPath:""})}},I=async()=>{const a=y.service({lock:!0,text:"正在初始化数据库，请稍候",spinner:"loading",background:"rgba(0, 0, 0, 0.7)"});try{const s=await(l=C,e({url:"/init/initdb",method:"post",data:l}));0===s.code&&(O.value=!0,v({type:"success",message:s.msg}),j.push({name:"Login"})),a.close()}catch(s){a.close()}var l};return(e,a)=>{const l=n,s=q,u=f,y=_,v=h,j=g;return t(),d("div",V,[o("div",k,[U.value<2?(t(),d("div",{key:0,id:"hello",class:p([[U.value<1?"slide-in-fwd-top":"slide-out-right"],"hello"])},[o("div",null,[N,o("p",w,[i(l,{type:"primary",onClick:x},{default:r((()=>[c(" 阅读文档 ")])),_:1}),i(l,{type:"primary",onClick:P},{default:r((()=>[c(" 我已确认 ")])),_:1})])])],2)):m("",!0),U.value>0?(t(),d("div",{key:1,class:p([[U.value>0&&!O.value?"slide-in-left":"",O.value?"slide-out-right":""],"form"])},[i(j,{ref:"formRef",model:C,"label-width":"100px"},{default:r((()=>[i(y,{label:"数据库类型"},{default:r((()=>[i(u,{modelValue:C.dbType,"onUpdate:modelValue":a[0]||(a[0]=e=>C.dbType=e),placeholder:"请选择",onChange:E},{default:r((()=>[i(s,{key:"mysql",label:"mysql",value:"mysql"}),i(s,{key:"pgsql",label:"pgsql",value:"pgsql"}),i(s,{key:"oracle",label:"oracle",value:"oracle"}),i(s,{key:"mssql",label:"mssql",value:"mssql"}),i(s,{key:"sqlite",label:"sqlite",value:"sqlite"})])),_:1},8,["modelValue"])])),_:1}),"sqlite"!==C.dbType?(t(),b(y,{key:0,label:"host"},{default:r((()=>[i(v,{modelValue:C.host,"onUpdate:modelValue":a[1]||(a[1]=e=>C.host=e),placeholder:"请输入数据库链接"},null,8,["modelValue"])])),_:1})):m("",!0),"sqlite"!==C.dbType?(t(),b(y,{key:1,label:"port"},{default:r((()=>[i(v,{modelValue:C.port,"onUpdate:modelValue":a[2]||(a[2]=e=>C.port=e),placeholder:"请输入数据库端口"},null,8,["modelValue"])])),_:1})):m("",!0),"sqlite"!==C.dbType?(t(),b(y,{key:2,label:"userName"},{default:r((()=>[i(v,{modelValue:C.userName,"onUpdate:modelValue":a[3]||(a[3]=e=>C.userName=e),placeholder:"请输入数据库用户名"},null,8,["modelValue"])])),_:1})):m("",!0),"sqlite"!==C.dbType?(t(),b(y,{key:3,label:"password"},{default:r((()=>[i(v,{modelValue:C.password,"onUpdate:modelValue":a[4]||(a[4]=e=>C.password=e),placeholder:"请输入数据库密码（没有则为空）"},null,8,["modelValue"])])),_:1})):m("",!0),i(y,{label:"dbName"},{default:r((()=>[i(v,{modelValue:C.dbName,"onUpdate:modelValue":a[5]||(a[5]=e=>C.dbName=e),placeholder:"请输入数据库名称"},null,8,["modelValue"])])),_:1}),"sqlite"===C.dbType?(t(),b(y,{key:4,label:"dbPath"},{default:r((()=>[i(v,{modelValue:C.dbPath,"onUpdate:modelValue":a[6]||(a[6]=e=>C.dbPath=e),placeholder:"请输入sqlite数据库文件存放路径"},null,8,["modelValue"])])),_:1})):m("",!0),i(y,null,{default:r((()=>[o("div",T,[i(l,{type:"primary",onClick:I},{default:r((()=>[c("立即初始化")])),_:1})])])),_:1})])),_:1},8,["model"])],2)):m("",!0)])])}}}),[["__scopeId","data-v-d0013ae2"]]);export{P as default};
